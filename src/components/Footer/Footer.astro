---
import "./Footer.less";
---
<footer class="vh-footer">
  <main>
    <p>©{new Date().getFullYear()} 旧识桥 | 本站稳定运行 <span class="web_time"></span></p>
    <p>
      <a href="/rss.xml" target="_blank">RSS订阅</a>
      <a href="/sitemap-index.xml" target="_blank">站点地图</a>
    </p>
  </main>
</footer>

<!-- 修复后的运行时间JS，加了加载监听+错误防护 -->
<script is:inline>
// 改成你的真实建站日期（示例：2025年10月1日）
const startDate = new Date(2025, 9, 1); 

// 确保DOM加载完成后执行
document.addEventListener('DOMContentLoaded', function() {
  const timeElement = document.querySelector('.web_time');
  // 防止找不到元素报错
  if (!timeElement) return;

  function updateRunTime() {
    const now = new Date();
    const diff = now - startDate;
    const days = Math.floor(diff / (1000 * 60 * 60 * 24));
    const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
    timeElement.textContent = `${days}天${hours}时${minutes}分`;
  }

  updateRunTime();
  setInterval(updateRunTime, 60000);
});
</script>
