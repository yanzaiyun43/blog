---
import "./Footer.less";
---
<footer class="vh-footer">
  <main>
    <p>©{new Date().getFullYear()} 旧识桥 | 本站稳定运行 <span class="web_time"></span></p>
    <p>
      <a href="/rss.xml" target="_blank">RSS订阅</a>
      <a href="/sitemap-index.xml" target="_blank">站点地图</a>
    </p>
  </main>
</footer>

<!-- 修复后的运行时间JS，加了加载监听+错误防护 -->
<script is:inline>
// 改成你的真实建站日期（示例：2025年10月1日）
const startDate = new Date(2025, 11, 30);   // 月从 0 开始，11 表示 12 月

document.addEventListener('DOMContentLoaded', function () {
  const timeElement = document.querySelector('.web_time');
  if (!timeElement) return;

  function updateRunTime() {
    const diff = Date.now() - startDate;
    const days    = Math.floor(diff / 86400000);
    const hours   = Math.floor((diff % 86400000) / 3600000);
    const minutes = Math.floor((diff % 3600000) / 60000);
    const seconds = Math.floor((diff % 60000) / 1000);

    timeElement.textContent = `${days}天${hours}时${minutes}分${seconds}秒`;
  }

  updateRunTime();
  setInterval(updateRunTime, 1000); // 每秒刷新
});
</script>
