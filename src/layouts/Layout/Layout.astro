---
const { title, keywords, description, pagecover, activeNav, Home } = Astro.props;

// ç½‘ç«™é…ç½®
import SITE_INFO from "@/config";
const { GoogleAds, Theme } = SITE_INFO;          // â† å»æ‰ HomeBanner
const { ad_Client, asideAD_Slot, articleAD_Slot } = GoogleAds;

// ç»„ä»¶
import Head from "@/components/Head/Head.astro";
import Header from "@/components/Header/Header.astro";
import Aside from "@/components/Aside/Aside.astro";
import Footer from "@/components/Footer/Footer.astro";
import BackTop from "@/components/BackTop/BackTop.astro";
import MobileSidebar from "@/components/MobileSidebar/MobileSidebar.astro";

// æ ·å¼
import "@/styles/Reset.less";
import "@/styles/Base.less";
import "./Layout.less";
---

<html lang="zh-CN">
  <Head
    Title={title}
    Keywords={keywords}
    Description={description}
    PageCover={pagecover}
  >
    {/* è°·æ­Œå¹¿å‘Š */}
    {ad_Client && (asideAD_Slot || articleAD_Slot) && (
      <script
        is:inline
        async
        src={`https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=${ad_Client}`}
        crossorigin="anonymous"
      />
    )}
    {/* å½©æ——ğŸˆ */}
    <script is:inline src="/assets/js/vhCaiqi.js" defer />
    {/* ä¸»é¢˜é¢œè‰²å˜é‡ */}
    <Fragment
      set:html={`<style>:root {${Object.entries(Theme)
        .map(([k, v]) => `${k}:${v};`)
        .join("")}--vh-main-header-height:0;--vh-home-banner:none}</style>`}
    />
  </Head>

  <body>
    <MobileSidebar />
    <Header activeNav={activeNav} />

    <main class="main">
      <!-- æ¨ªå¹…å·²æ•´æ®µåˆ é™¤ -->
      <section
        class="main-inner"
        style="padding-top:calc(66px + 0.68rem)"   <!-- å›ºå®šæ— æ¨ªå¹…æ—¶çš„ç•™ç™½ -->
      >
        <section class="main-inner-content">
          <slot />
        </section>
        <Aside />
      </section>

      <BackTop />
    </main>

    <Footer />

    <script>
      import InitFn from "@/scripts/Init";
      InitFn();   // å…¨å±€åˆå§‹åŒ–
    </script>
  </body>
</html>
